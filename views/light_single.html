<ion-modal-view>
  <ion-header-bar>
    <h1 class="title">{{modalLight.title}}</h1>
    <div class="buttons">
      <button class="button button-clear" ng-click="closeLight()">Close</button>
    </div>
  </ion-header-bar>
  <ion-content>
    <form ng-submit="sendToServer()">
      <ion-list>
	
<div  ng-repeat="lightParam in modalLight.light.params">  
		<ion-item style="vertical-align: middle;" class="item-divider"  ng-class="{active: isSettingsShown({{lightParam.id}})}">
		
		<button ng-click="toggleSettings({{lightParam.id}})" class="button button-small button-outline">
  <i  class="icon" ng-class="isSettingsShown({{lightParam.id}}) ? 'ion-minus' : 'ion-plus'"></i>
</button>
              
           {{lightParam.title}}
		   
		   <button ng-click="doUp({{lightParam.id}})" class="button button-small button-outline">
			<i   class="icon ion-arrow-up-a"></i> 
			</button>
			<strong>{{lightParam.cur}}</strong>
			
			<button ng-click="doDown({{lightParam.id}})" class="button button-small button-outline">
			<i class="icon ion-arrow-down-a"></i> 
			</button>
        </ion-item>
	  
        <ion-item class="item-accordion" ng-show="isSettingsShown({{lightParam.id}})">
			<ionslider id="{{lightParam.id}}" prefix="{{lightParam.title}}:" type="single" grid=true min="lightParam.min" max="lightParam.max" from="lightParam.cur" 
						on-change="rangeChangeCallback" on-finish="rangeChangeCallbackFinish"></ionslider>
        </ion-item >
</div>		

<ion-item>
	{{serverAnswer}}
</ion-item>

<ion-item>
 <button style="display:inline" class="button button-positive" ng-click="sendToServer()">Send</button>
  <button style="display:inline" class="button" ng-click="closeLight()">Cancel</button>
</ion-item>
		
      </ion-list>
    </form>
  </ion-content>
</ion-modal-view>